(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[4],{231:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u}));var n=a(236),r=a(0),o=a.n(r),l=a(232),s=a.n(l),c=a(114),i=function(e){return function(t){var a=t.input,r=t.meta,l=r.error,c=r.touched,i=Object(n.a)(t,["input","meta"]),u=l&&c;return o.a.createElement("div",{className:s.a.formControl+" "+(u?s.a.formErr:"")},o.a.createElement(e,Object.assign({},a,i)),o.a.createElement("div",null,u&&o.a.createElement("span",{className:s.a.errMsg},l)))}},u=function(e,t,a,n){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5?arguments[5]:void 0,s=arguments.length,i=new Array(s>6?s-6:0),u=6;u<s;u++)i[u-6]=arguments[u];return o.a.createElement("div",null,e&&o.a.createElement("label",null,e),o.a.createElement(c.a,Object.assign({name:t,placeholder:a,component:n},r,{validate:l}))," ",i)}},232:function(e,t,a){e.exports={formControl:"FieldLevelValidationForm_formControl__1Q8wm",formErr:"FieldLevelValidationForm_formErr__1-Gm8",errMsg:"FieldLevelValidationForm_errMsg__3qk7d"}},233:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"That field is required!"},r=function(e){return function(t){if(t.length>=e)return"That field must to be contained less ".concat(e," symbols ")}}},235:function(e,t,a){e.exports=a.p+"static/media/userProfile.dc8b1732.png"},238:function(e,t,a){e.exports={errMsg:"Errors_errMsg__33YgT"}},242:function(e,t,a){e.exports={infoImg:"InfoBlock_infoImg__1cxdH",description:"InfoBlock_description__2MGbo"}},243:function(e,t,a){e.exports={contacts:"ContactsData_contacts__7xmg0"}},256:function(e,t,a){},298:function(e,t,a){e.exports={posts:"MyPosts_posts__2Pn3x",newPost:"MyPosts_newPost__1BO1M",post:"MyPosts_post__3AFXQ"}},299:function(e,t,a){e.exports={item:"Post_item__20Rd0"}},313:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a(24),o=a(26),l=a(25),s=a(27),c=a(0),i=a.n(c),u=a(17),m=a(256),f=a.n(m),p=a(60),d=a(242),b=a.n(d),E=a(53),g=a(235),v=a.n(g),h=function(e){var t=Object(c.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)(e.status),l=Object(p.a)(o,2),s=l[0],u=l[1];Object(c.useEffect)((function(){u(e.status)}),[e.status]);return i.a.createElement("div",null,n?i.a.createElement("div",null,"Status: ",i.a.createElement("input",{onChange:function(e){u(e.target.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(s)},value:s})):i.a.createElement("div",null,"Status: ",i.a.createElement("span",{onClick:function(){r(!0)}},e.status||"Status..."," ")))},O=a(243),j=a.n(O),P=function(e){var t=e.contactsTitle,a=e.contactsValue;return i.a.createElement("div",{className:j.a.contacts},i.a.createElement("b",null,t),": ",a)},_=function(e){var t=e.profile,a=e.goToEditMode,n=e.isOwner;return i.a.createElement("div",null,n&&i.a.createElement("button",{onClick:a},"Edit"),i.a.createElement("div",null,i.a.createElement("b",null,"Full name"),": ",t.fullName?t.fullName:"not data"),i.a.createElement("div",null,i.a.createElement("b",null,"About me"),": ",t.aboutMe),i.a.createElement("div",{className:b.a.contacts},i.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return i.a.createElement(P,{key:e,contactsTitle:e,contactsValue:t.contacts[e]})}))),i.a.createElement("div",null,i.a.createElement("b",null,"looking for a job"),": ",t.lookingForAJob?":)":":("),i.a.createElement("div",null,i.a.createElement("b",null,"looking for a job description"),": ",t.lookingForAJobDescription?t.lookingForAJobDescription:"not data"),i.a.createElement("div",null,i.a.createElement("b",null,"UserID"),": ",t.userId?t.userId:"not data"))},k=a(115),y=a(231),S=a(238),x=a.n(S),N=Object(y.a)("input"),w=Object(k.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return i.a.createElement("form",{onSubmit:t},i.a.createElement("div",null,i.a.createElement("button",null,"Save")),n&&i.a.createElement("div",{className:x.a.errMsg},n),Object(y.b)("Full name","fullName","Name",N,{type:"text"},null),Object(y.b)("About me","aboutMe","About me",N,{type:"text"},null),"Contacts: ",Object.keys(a.contacts).map((function(e){return i.a.createElement("div",{className:j.a.contacts,key:e},Object(y.b)(e,"contacts."+e,e,N,{type:"text"},null))})),"Looking for a job: ",Object(y.b)(null,"lookingForAJob",null,N,{type:"checkbox"},null),Object(y.b)("Looking for a job description","lookingForAJobDescription","Description of a job",N,{type:"text"},null))})),A=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.setUserPhoto,o=e.isOwner,l=e.saveProfile,s=Object(c.useState)(!1),u=Object(p.a)(s,2),m=u[0],f=u[1];if(!t)return i.a.createElement(E.a,null);return i.a.createElement("div",{className:b.a.description},i.a.createElement("img",{src:null!=t.photos.large?t.photos.large:v.a,alt:"profileImg"}),i.a.createElement(h,{className:b.a.about,status:a,updateStatus:n}),o&&i.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&r(e.target.files[0])}}),m?i.a.createElement(w,{initialValues:t,profile:t,onSubmit:function(e){l(e).then((function(){f(!1)}))}}):i.a.createElement(_,{profile:t,isOwner:o,goToEditMode:function(){return f(!0)}}))},M=a(29),D=a(61),F=a(298),C=a.n(F),I=a(34),U=a(233),J=Object(U.a)(15),T=Object(y.a)("textarea"),L=Object(k.a)({form:"posts",onSubmitSuccess:function(e,t){t(Object(I.a)("posts"))}})((function(e){var t=e.handleSubmit;e.reset;return i.a.createElement("form",{onSubmit:t},Object(y.b)(null,"textOfPost","Enter your post message...",T,null,[U.b,J]),i.a.createElement("div",null,i.a.createElement("button",null,"Add post!")))})),V=i.a.memo((function(e){var t=e.addPost,a=e.post;return i.a.createElement("div",{className:C.a.posts},i.a.createElement("h2",null,"Posts:"),i.a.createElement("div",{className:C.a.newPost},"New post",i.a.createElement("div",{className:C.a.post},i.a.createElement(L,{onSubmit:function(e){t(e.textOfPost)}}))),a)})),B=a(299),q=a.n(B),z=function(e){var t=e.message,a=e.likeCount,n=e.img;return i.a.createElement("div",{className:q.a.item},i.a.createElement("img",{src:n,alt:"pict"}),t,i.a.createElement("div",null,i.a.createElement("span",null,"Like: ",a)))},G=Object(u.b)((function(e){return{post:Object(M.a)(e.profilePage.postData).reverse().map((function(e){return i.a.createElement(z,{message:e.message,key:e.id,img:e.img,likeCount:e.likeCount})})),posts:e.profilePage}}),{addPost:D.a})(V),Q=function(e){var t=e.profile,a=e.status,n=e.updateProfileStatus,r=e.setUserPhoto,o=e.isOwner,l=e.saveProfile;return i.a.createElement("div",{className:f.a.profilePage},i.a.createElement(A,{profile:t,status:a,updateStatus:n,isOwner:o,setUserPhoto:r,saveProfile:l}),i.a.createElement(G,null))},H=a(21),R=a(19),X=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).refreshProfile=function(){var e=a.props,t=e.getProfile,n=e.getProfileStatus,r=a.props.match.params.userID;r||(r=a.props.autorizedUserID)||a.props.history.push("/login"),t(r),n(r)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(Q,Object.assign({},this.props,{isOwner:!this.props.match.params.userID}))}}]),t}(i.a.Component);t.default=Object(R.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.userAuth.isAuth,autorizedUserID:e.userAuth.id}}),{getProfile:D.c,getProfileStatus:D.d,updateProfileStatus:D.g,setUserPhoto:D.f,saveProfile:D.e}),H.f)(X)}}]);
//# sourceMappingURL=4.b2a205be.chunk.js.map