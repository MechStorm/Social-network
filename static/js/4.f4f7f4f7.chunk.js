(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[4],{230:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(236),r=n(0),o=n.n(r),l=n(231),i=n.n(l),s=n(113),c=function(e){return function(t){var n=t.input,r=t.meta,l=r.error,s=r.touched,c=Object(a.a)(t,["input","meta"]),u=l&&s;return o.a.createElement("div",{className:i.a.formControl+" "+(u?i.a.formErr:"")},o.a.createElement(e,Object.assign({},n,c)),o.a.createElement("div",null,u&&o.a.createElement("span",{className:i.a.errMsg},l)))}},u=function(e,t,n,a){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5?arguments[5]:void 0,i=arguments.length,c=new Array(i>6?i-6:0),u=6;u<i;u++)c[u-6]=arguments[u];return o.a.createElement("div",null,e&&o.a.createElement("label",null,e),o.a.createElement(s.a,Object.assign({name:t,placeholder:n,component:a},r,{validate:l}))," ",c)}},231:function(e,t,n){e.exports={formControl:"FieldLevelValidationForm_formControl__1Q8wm",formErr:"FieldLevelValidationForm_formErr__1-Gm8",errMsg:"FieldLevelValidationForm_errMsg__3qk7d"}},232:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"That field is required!"},r=function(e){return function(t){if(t.length>=e)return"That field must to be contained less ".concat(e," symbols ")}}},234:function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(s){r=!0,o=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return a}))},235:function(e,t,n){e.exports=n.p+"static/media/userProfile.dc8b1732.png"},238:function(e,t,n){e.exports={errMsg:"Errors_errMsg__33YgT"}},242:function(e,t,n){e.exports={infoImg:"InfoBlock_infoImg__1cxdH",description:"InfoBlock_description__2MGbo"}},243:function(e,t,n){e.exports={contacts:"ContactsData_contacts__7xmg0"}},256:function(e,t,n){},298:function(e,t,n){e.exports={posts:"MyPosts_posts__2Pn3x",newPost:"MyPosts_newPost__1BO1M",post:"MyPosts_post__3AFXQ"}},299:function(e,t,n){e.exports={item:"Post_item__20Rd0"}},313:function(e,t,n){"use strict";n.r(t);var a=n(23),r=n(24),o=n(26),l=n(25),i=n(27),s=n(0),c=n.n(s),u=n(17),m=n(256),f=n.n(m),p=n(234),d=n(242),b=n.n(d),E=n(53),v=n(235),g=n.n(v),h=function(e){var t=Object(s.useState)(!1),n=Object(p.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)(e.status),l=Object(p.a)(o,2),i=l[0],u=l[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",null,a?c.a.createElement("div",null,"Status: ",c.a.createElement("input",{onChange:function(e){u(e.target.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(i)},value:i})):c.a.createElement("div",null,"Status: ",c.a.createElement("span",{onClick:function(){r(!0)}},e.status||"Status..."," ")))},O=n(243),j=n.n(O),P=function(e){var t=e.contactsTitle,n=e.contactsValue;return c.a.createElement("div",{className:j.a.contacts},c.a.createElement("b",null,t),": ",n)},y=function(e){var t=e.profile,n=e.goToEditMode,a=e.isOwner;return c.a.createElement("div",null,a&&c.a.createElement("button",{onClick:n},"Edit"),c.a.createElement("div",null,c.a.createElement("b",null,"Full name"),": ",t.fullName?t.fullName:"not data"),c.a.createElement("div",null,c.a.createElement("b",null,"About me"),": ",t.aboutMe),c.a.createElement("div",{className:b.a.contacts},c.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return c.a.createElement(P,{key:e,contactsTitle:e,contactsValue:t.contacts[e]})}))),c.a.createElement("div",null,c.a.createElement("b",null,"looking for a job"),": ",t.lookingForAJob?":)":":("),c.a.createElement("div",null,c.a.createElement("b",null,"looking for a job description"),": ",t.lookingForAJobDescription?t.lookingForAJobDescription:"not data"),c.a.createElement("div",null,c.a.createElement("b",null,"UserID"),": ",t.userId?t.userId:"not data"))},_=n(114),k=n(230),S=n(238),w=n.n(S),x=Object(k.a)("input"),A=Object(_.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return c.a.createElement("form",{onSubmit:t},c.a.createElement("div",null,c.a.createElement("button",null,"Save")),a&&c.a.createElement("div",{className:w.a.errMsg},a),Object(k.b)("Full name","fullName","Name",x,{type:"text"},null),Object(k.b)("About me","aboutMe","About me",x,{type:"text"},null),"Contacts: ",Object.keys(n.contacts).map((function(e){return c.a.createElement("div",{className:j.a.contacts,key:e},Object(k.b)(e,"contacts."+e,e,x,{type:"text"},null))})),"Looking for a job: ",Object(k.b)(null,"lookingForAJob",null,x,{type:"checkbox"},null),Object(k.b)("Looking for a job description","lookingForAJobDescription","Description of a job",x,{type:"text"},null))})),N=function(e){var t=e.profile,n=e.status,a=e.updateStatus,r=e.setUserPhoto,o=e.isOwner,l=e.saveProfile,i=Object(s.useState)(!1),u=Object(p.a)(i,2),m=u[0],f=u[1];if(!t)return c.a.createElement(E.a,null);return c.a.createElement("div",{className:b.a.description},c.a.createElement("img",{src:null!=t.photos.large?t.photos.large:g.a,alt:"profileImg"}),c.a.createElement(h,{className:b.a.about,status:n,updateStatus:a}),o&&c.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&r(e.target.files[0])}}),m?c.a.createElement(A,{initialValues:t,profile:t,onSubmit:function(e){l(e).then((function(){f(!1)}))}}):c.a.createElement(y,{profile:t,isOwner:o,goToEditMode:function(){return f(!0)}}))},M=n(29),D=n(60),F=n(298),I=n.n(F),C=n(34),T=n(232),U=Object(T.a)(15),J=Object(k.a)("textarea"),L=Object(_.a)({form:"posts",onSubmitSuccess:function(e,t){t(Object(C.a)("posts"))}})((function(e){var t=e.handleSubmit;e.reset;return c.a.createElement("form",{onSubmit:t},Object(k.b)(null,"textOfPost","Enter your post message...",J,null,[T.b,U]),c.a.createElement("div",null,c.a.createElement("button",null,"Add post!")))})),V=c.a.memo((function(e){var t=e.addPost,n=e.post;return c.a.createElement("div",{className:I.a.posts},c.a.createElement("h2",null,"Posts:"),c.a.createElement("div",{className:I.a.newPost},"New post",c.a.createElement("div",{className:I.a.post},c.a.createElement(L,{onSubmit:function(e){t(e.textOfPost)}}))),n)})),B=n(299),q=n.n(B),z=function(e){var t=e.message,n=e.likeCount,a=e.img;return c.a.createElement("div",{className:q.a.item},c.a.createElement("img",{src:a,alt:"pict"}),t,c.a.createElement("div",null,c.a.createElement("span",null,"Like: ",n)))},G=Object(u.b)((function(e){return{post:Object(M.a)(e.profilePage.postData).reverse().map((function(e){return c.a.createElement(z,{message:e.message,key:e.id,img:e.img,likeCount:e.likeCount})})),posts:e.profilePage}}),{addPost:D.a})(V),Q=function(e){var t=e.profile,n=e.status,a=e.updateProfileStatus,r=e.setUserPhoto,o=e.isOwner,l=e.saveProfile;return c.a.createElement("div",{className:f.a.profilePage},c.a.createElement(N,{profile:t,status:n,updateStatus:a,isOwner:o,setUserPhoto:r,saveProfile:l}),c.a.createElement(G,null))},H=n(21),R=n(19),X=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).refreshProfile=function(){var e=n.props,t=e.getProfile,a=e.getProfileStatus,r=n.props.match.params.userID;r||(r=n.props.autorizedUserID)||n.props.history.push("/login"),t(r),a(r)},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(Q,Object.assign({},this.props,{isOwner:!this.props.match.params.userID}))}}]),t}(c.a.Component);t.default=Object(R.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.userAuth.isAuth,autorizedUserID:e.userAuth.id}}),{getProfile:D.c,getProfileStatus:D.d,updateProfileStatus:D.g,setUserPhoto:D.f,saveProfile:D.e}),H.f)(X)}}]);
//# sourceMappingURL=4.f4f7f4f7.chunk.js.map