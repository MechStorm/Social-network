{"version":3,"sources":["components/utils/FieldLevelValidationForm.jsx","components/utils/FieldLevelValidationForm.module.css","components/utils/validation.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/userProfile.png","components/common/Errors/Errors.module.css","components/Profile/InfoBlock/InfoBlock.module.css","components/Profile/InfoBlock/ContactsData.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Posts/Post.module.css","components/Profile/InfoBlock/ProfileStatusWithHooks.jsx","components/Profile/InfoBlock/ContactsData.jsx","components/Profile/InfoBlock/ProfileInfo.jsx","components/Profile/InfoBlock/ProfileInfoForm.jsx","components/Profile/InfoBlock/InfoBlock.jsx","components/Profile/MyPosts/MyPostsForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/Posts/Post.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["FieldRequiredForm","Element","input","meta","error","touched","props","hasError","className","st","formControl","formErr","errMsg","createField","nameOfLabel","name","placeholder","component","typeOfField","validators","text","validate","module","exports","required","values","maxLengthValidation","maxLength","length","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","TypeError","ProfileStatus","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","target","autoFocus","onBlur","updateStatus","onClick","ContactsData","contactsTitle","contactsValue","contacts","ProfileInfo","profile","goToEditMode","isOwner","fullName","aboutMe","keys","map","c","key","lookingForAJob","lookingForAJobDescription","userId","Input","reduxForm","form","handleSubmit","onSubmit","type","InfoBlock","setUserPhoto","saveProfile","Preloader","description","src","photos","large","profileImg","alt","ProfileStatusWithHooks","about","files","initialValues","formData","then","maxLength15","Textarea","onSubmitSuccess","res","dispatch","reset","MyPosts","React","memo","addPost","post","posts","newPost","textOfPost","Post","message","likeCount","img","item","MyPostsContainer","connect","state","profilePage","postData","reverse","p","id","Profile","updateProfileStatus","ProfileContainer","refreshProfile","getProfile","getProfileStatus","userID","match","params","autorizedUserID","history","this","prevProps","prevState","snapshot","Component","compose","isAuth","userAuth","withRouter"],"mappings":"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","file":"static/js/4.f4f7f4f7.chunk.js","sourcesContent":["import React from 'react';\nimport st from './FieldLevelValidationForm.module.css';\nimport {Field} from \"redux-form\";\n\nexport const FieldRequiredForm = Element => ({input, meta: {error, touched}, ...props}) => {\n    const hasError = error && touched;\n    return (\n        <div className={st.formControl + \" \" + (hasError ? st.formErr : \"\")}>\n            <Element {...input} {...props}/>\n            <div>{hasError && <span className={st.errMsg}>{error}</span>}</div>\n        </div>\n    );\n}\n\nexport const createField = (nameOfLabel, name, placeholder, component, typeOfField = {}, validators, ...text) => {\n    return (\n        <div>\n            {nameOfLabel && <label>{nameOfLabel}</label>}\n            <Field name={name} placeholder={placeholder} component={component} {...typeOfField}\n                   validate={validators}/> {text}\n        </div>\n    )\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FieldLevelValidationForm_formControl__1Q8wm\",\"formErr\":\"FieldLevelValidationForm_formErr__1-Gm8\",\"errMsg\":\"FieldLevelValidationForm_errMsg__3qk7d\"};","export const required = values => {\r\n    if(values) return undefined;\r\n    return \"That field is required!\";\r\n}\r\n\r\nexport const maxLengthValidation = maxLength => values => {\r\n    if(values.length >= maxLength) return `That field must to be contained less ${maxLength} symbols `;\r\n    return undefined;\r\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","module.exports = __webpack_public_path__ + \"static/media/userProfile.dc8b1732.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errMsg\":\"Errors_errMsg__33YgT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoImg\":\"InfoBlock_infoImg__1cxdH\",\"description\":\"InfoBlock_description__2MGbo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"ContactsData_contacts__7xmg0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2Pn3x\",\"newPost\":\"MyPosts_newPost__1BO1M\",\"post\":\"MyPosts_post__3AFXQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__20Rd0\"};","import React, {useState, useEffect} from \"react\";\n\nconst ProfileStatus = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect(()=>{\n       setStatus(props.status);\n    }, [props.status])\n\n    const statusActivate = () => {\n        setEditMode(true);\n    };\n\n    const statusDeactivate = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    };\n\n    const statusChange = (e) => {\n        setStatus(e.target.value)\n    };\n\n        return (\n            <div>\n                {!editMode ?\n                    <div>\n                        Status: <span onClick={statusActivate}>{props.status || 'Status...'} </span>\n                    </div>\n                    :\n                    <div>\n                        Status: <input onChange={statusChange} autoFocus onBlur={statusDeactivate}\n                                       value={status} />\n                    </div>\n                }\n            </div>\n        );\n};\n\nexport default ProfileStatus;","import React from 'react';\r\nimport st from './ContactsData.module.css';\r\n\r\nconst ContactsData = ({contactsTitle, contactsValue}) => {\r\n    return <div className={st.contacts}><b>{contactsTitle}</b>: {contactsValue}</div>\r\n};\r\n\r\nexport default ContactsData;","import React from 'react';\r\nimport st from \"./InfoBlock.module.css\";\r\nimport ContactsData from \"./ContactsData\";\r\n\r\nconst ProfileInfo = ({profile, goToEditMode, isOwner}) => {\r\n    return (\r\n        <div>\r\n            {isOwner && <button onClick={goToEditMode}>Edit</button>}\r\n\r\n            <div>\r\n                <b>Full name</b>: {profile.fullName ? profile.fullName : 'not data'}\r\n            </div>\r\n\r\n            <div>\r\n                <b>About me</b>: {profile.aboutMe}\r\n            </div>\r\n\r\n            <div className={st.contacts}>\r\n                <b>Contacts</b>: {Object.keys(profile.contacts).map(c => {\r\n                return <ContactsData key={c} contactsTitle={c} contactsValue={profile.contacts[c]}/>\r\n            })}\r\n            </div>\r\n\r\n            <div>\r\n                <b>looking for a job</b>: {profile.lookingForAJob ? ':)' : ':('}\r\n            </div>\r\n\r\n            <div>\r\n                <b>looking for a job description</b>: {profile.lookingForAJobDescription ? profile.lookingForAJobDescription : 'not data'}\r\n            </div>\r\n\r\n            <div>\r\n                <b>UserID</b>: {profile.userId ? profile.userId : 'not data'}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, FieldRequiredForm} from \"../../utils/FieldLevelValidationForm\";\r\nimport st from './ContactsData.module.css';\r\nimport e from '../../common/Errors/Errors.module.css';\r\n\r\nconst Input = FieldRequiredForm(\"input\");\r\n\r\nconst ProfileInfoForm = ({handleSubmit, profile, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n\r\n            <div>\r\n                <button>Save</button>\r\n            </div>\r\n\r\n            {\r\n                error && <div className={e.errMsg}>\r\n                    {error}\r\n                </div>\r\n            }\r\n\r\n            {\r\n                createField(\"Full name\", \"fullName\", \"Name\", Input, {type: \"text\"}, null)\r\n            }\r\n            {\r\n                createField(\"About me\", \"aboutMe\", \"About me\", Input, {type: \"text\"}, null)\r\n            }\r\n            Contacts: {\r\n            Object.keys(profile.contacts).map(key => <div className={st.contacts} key={key}>\r\n                {createField(key, \"contacts.\" + key, key, Input, {type: \"text\"}, null)}\r\n            </div>)\r\n        }\r\n            Looking for a job: {\r\n            createField(null, \"lookingForAJob\", null, Input, {type: \"checkbox\"}, null)\r\n        }\r\n            {\r\n                createField(\"Looking for a job description\", \"lookingForAJobDescription\", \"Description of a job\", Input, {type: \"text\"}, null)\r\n            }\r\n\r\n        </form>\r\n    )\r\n};\r\n\r\nexport default reduxForm({form: \"edit-profile\"})(ProfileInfoForm);","import React, {useState} from \"react\";\r\nimport st from \"./InfoBlock.module.css\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport profileImg from '../../../assets/userProfile.png';\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport ProfileInfoForm from \"./ProfileInfoForm\";\r\n\r\nconst InfoBlock = ({profile, status, updateStatus, setUserPhoto, isOwner, saveProfile}) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if (!profile) {\r\n        return <Preloader/>;\r\n    }\r\n\r\n    let onSetPhoto = (e) => {\r\n        if (e.target.files.length) {\r\n            setUserPhoto(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const dataFromProfile = (formData) => {\r\n        saveProfile(formData).then(()=>{\r\n            setEditMode(false);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className={st.description}>\r\n            <img src={profile.photos.large != null ? profile.photos.large : profileImg} alt=\"profileImg\"/>\r\n            <ProfileStatusWithHooks className={st.about} status={status} updateStatus={updateStatus}/>\r\n            {isOwner && <input type={\"file\"} onChange={onSetPhoto}/>}\r\n            {\r\n                editMode ? <ProfileInfoForm initialValues={profile} profile={profile} onSubmit={dataFromProfile}/> :\r\n                <ProfileInfo profile={profile} isOwner={isOwner} goToEditMode={() => setEditMode(true)}/>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InfoBlock;","import React from \"react\";\r\nimport {reduxForm, reset} from \"redux-form\";\r\nimport {maxLengthValidation, required} from \"../../utils/validation\";\r\nimport {createField, FieldRequiredForm} from \"../../utils/FieldLevelValidationForm\";\r\n\r\nconst maxLength15 = maxLengthValidation(15);\r\nconst Textarea = FieldRequiredForm(\"textarea\");\r\n\r\nconst MyPostsForm = ({handleSubmit, reset}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(null, \"textOfPost\", \"Enter your post message...\", Textarea,\r\n                null, [required, maxLength15])}\r\n            <div>\r\n                <button>Add post!</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst afterSubmit = (res, dispatch) => {\r\n    dispatch(reset('posts'));\r\n};\r\n\r\nexport default (reduxForm({form: 'posts', onSubmitSuccess: afterSubmit})(MyPostsForm));","import React from \"react\";\r\nimport st from \"./MyPosts.module.css\";\r\nimport MyPostsForm from \"./MyPostsForm\";\r\n\r\nconst MyPosts = React.memo(({addPost, post}) => {\r\n\r\n    let sendNewPost = (values) => {\r\n        addPost(values.textOfPost);\r\n    }\r\n\r\n    return (\r\n        <div className={st.posts}>\r\n            <h2>Posts:</h2>\r\n            <div className={st.newPost}>\r\n                New post\r\n                <div className={st.post}>\r\n                    <MyPostsForm onSubmit={sendNewPost}/>\r\n                </div>\r\n            </div>\r\n            {post}\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport st from \"./Post.module.css\";\r\n\r\nconst Post = ({message, likeCount, img}) => {\r\n  return (\r\n    <div className={st.item}>\r\n      <img src={img} alt=\"pict\" />\r\n      {message}\r\n      <div>\r\n        <span>Like: {likeCount}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport { addPost } from \"../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport Post from './Posts/Post';\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    post: [...state.profilePage.postData]\r\n        .reverse()\r\n        .map(p => (<Post message={p.message} key={p.id} img={p.img} likeCount={p.likeCount} />)),\r\n    posts: state.profilePage\r\n  }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, { addPost })(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport st from './Profile.module.css';\r\nimport InfoBlock from './InfoBlock/InfoBlock';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = ({profile, status, updateProfileStatus, setUserPhoto, isOwner, saveProfile}) =>{\r\n  return ( \r\n    <div className={st.profilePage}>\r\n    <InfoBlock profile={profile} status={status} updateStatus={updateProfileStatus} isOwner={isOwner} setUserPhoto={setUserPhoto} saveProfile={saveProfile} />\r\n    <MyPostsContainer />\r\n    </div>\r\n    );\r\n  }\r\n  \r\n  export default Profile;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Profile from './Profile';\r\nimport {getProfile, getProfileStatus, saveProfile, setUserPhoto, updateProfileStatus} from '../Redux/profile-reducer';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile = () => {\r\n        let {getProfile, getProfileStatus} = this.props;\r\n        let userID = this.props.match.params.userID;\r\n        if (!userID) {\r\n            userID = this.props.autorizedUserID;\r\n            if (!userID) {\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n\r\n        /*if (userID) {\r\n            this.props.history.push(`/profile/${userID}`);\r\n        }*/\r\n\r\n        getProfile(userID);\r\n        getProfileStatus(userID);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.match.params.userID !== prevProps.match.params.userID) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} isOwner={!this.props.match.params.userID} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        isAuth: state.userAuth.isAuth,\r\n        autorizedUserID: state.userAuth.id\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile, getProfileStatus, updateProfileStatus, setUserPhoto, saveProfile}),\r\n    withRouter\r\n)(ProfileContainer);"],"sourceRoot":""}