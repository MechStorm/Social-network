{"version":3,"sources":["assets/userProfile.png","components/Users/Users.module.css","components/common/Pagination/Pagination.module.css","components/Users/User.jsx","components/common/Pagination/Pagination.jsx","components/Users/Users.jsx","../node_modules/reselect/es/index.js","components/Redux/users-selector.js","components/Users/UsersContainer.jsx"],"names":["module","exports","User","isProcess","follow","unfollow","users","className","st","usersPage","iconAndStatus","to","id","src","photos","small","standartImg","alt","followBtn","followed","followingBtn","disabled","some","onClick","userStatus","name","status","userLocation","Pagination","totalItemCount","pageSize","currentPage","onPageChange","portionSize","totalPagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNum","setPortionNum","leftBorderedNum","rightBorderedNum","numbers","btnPrev","filter","p","map","activeNum","btnNext","Users","totalCount","u","key","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers","state","getPageSize","getTotalCount","getCurrentPage","getIsFetching","isFetching","getProcess","toggleIsFollowingProcess","getIsAuth","userAuth","isAuth","UsersContainer","props","pageNumber","getUsersTC","bind","this","unfollowing","following","Preloader","React","Component","compose","connect"],"mappings":"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","file":"static/js/7.d7fb4661.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/userProfile.dc8b1732.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__3JG0O\",\"iconAndStatus\":\"Users_iconAndStatus__zyjDO\",\"followBtn\":\"Users_followBtn__fqKGO\",\"followingBtn\":\"Users_followingBtn__1EPC-\",\"userStatus\":\"Users_userStatus__1ce9I\",\"userLocation\":\"Users_userLocation__3RqpU\",\"nextBtn\":\"Users_nextBtn__rI3kh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"numbers\":\"Pagination_numbers__2s51s\",\"activeNum\":\"Pagination_activeNum__3xNJe\",\"btnPrev\":\"Pagination_btnPrev__2LxEB\",\"btnNext\":\"Pagination_btnNext__2PgK_\"};","import React from \"react\";\nimport st from \"./Users.module.css\";\nimport standartImg from \"../../assets/userProfile.png\";\nimport {NavLink} from \"react-router-dom\";\n\nconst User = ({isProcess, follow, unfollow, users}) => {\n    return (\n        <div>\n                <div className={st.usersPage}>\n                    <div className={st.iconAndStatus}>\n                        <div>\n                            <NavLink to={\"/profile/\" + users.id}>\n                                <img src={users.photos.small != null ? users.photos.small : standartImg} alt={\"user\"}/>\n                            </NavLink>\n                        </div>\n\n                        <div className={st.followBtn}>\n                            {users.followed ?\n\n                                <button className={st.followingBtn} disabled={isProcess.some(id => id === users.id)}\n                                        onClick={() => {\n                                            unfollow(users.id)\n                                        }}>Unfollow</button>\n                                :\n                                <button className={st.followingBtn} disabled={isProcess.some(id => id === users.id)}\n                                        onClick={() => {\n                                            follow(users.id)\n                                        }}>Follow</button>\n                            }\n                        </div>\n                    </div>\n                    <div className={st.userStatus}>\n                        <div>\n                            <p>{users.name}</p>\n                            <p>{users.status}</p>\n                        </div>\n\n                        <div className={st.userLocation}>\n                            <div>{\"u.location.country\"}</div>\n                            <div>{\"u.location.city\"}</div>\n                        </div>\n                    </div>\n                </div>\n        </div>\n    );\n};\n\nexport default User;","import React, {useState} from 'react';\r\nimport st from './Pagination.module.css';\r\n\r\nconst Pagination = ({totalItemCount, pageSize, currentPage, onPageChange, portionSize = 10}) => {\r\n    let totalPagesCount = Math.ceil(totalItemCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= totalPagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(totalPagesCount / portionSize);\r\n    let [portionNum, setPortionNum] = useState(1);\r\n    let leftBorderedNum = (portionNum - 1) * portionSize + 1;\r\n    let rightBorderedNum = portionNum * portionSize;\r\n\r\n    return (\r\n        <div>\r\n            <div className={st.numbers}>\r\n                {portionNum > 1 && <button className={st.btnPrev} onClick={() => setPortionNum(portionNum - 1)}>Prev</button>}\r\n                {\r\n                    pages\r\n                        .filter(p => p >= leftBorderedNum && p <= rightBorderedNum)\r\n                        .map(p => <span className={currentPage === p && st.activeNum}\r\n                                        onClick={() => onPageChange(p)}>{p}</span>)\r\n                }\r\n                {portionCount > portionNum && <button className={st.btnNext} onClick={() => setPortionNum(portionNum + 1)}>Next</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport User from \"./User\";\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\n\r\nconst Users = ({totalCount, pageSize, currentPage, onPageChange, isProcess, follow, unfollow, users}) => {\r\n    return (\r\n        <div>\r\n            <Pagination totalItemCount={totalCount} pageSize={pageSize} currentPage={currentPage} onPageChange={onPageChange} />\r\n            {users.map(u => <User users={u} key={u.id} isProcess={isProcess} follow={follow} unfollow={unfollow}/>)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Users;","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n  var length = prev.length;\n\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n  var lastArgs = null;\n  var lastResult = null; // we reference arguments instead of spreading them for performance reasons\n\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      return memoizedResultFunc.apply(null, params);\n    });\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n\n    selector.recomputations = function () {\n      return recomputations;\n    };\n\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n\n    return selector;\n  };\n}\nexport var createSelector = createSelectorCreator(defaultMemoize);\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = state => {\r\n    return state.usersPage.users;\r\n};\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = state => {\r\n    return state.usersPage.pageSize\r\n};\r\nexport const getTotalCount = state => {\r\n    return state.usersPage.totalCount\r\n};\r\nexport const getCurrentPage = state => {\r\n    return state.usersPage.currentPage\r\n};\r\nexport const getIsFetching = state => {\r\n    return state.usersPage.isFetching\r\n};\r\nexport const getProcess = state => {\r\n    return state.usersPage.toggleIsFollowingProcess\r\n};\r\nexport const getIsAuth = state => {\r\n    return state.userAuth.isAuth\r\n};\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {following, getUsersTC, unfollowing} from \"../Redux/users-reducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getIsAuth,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getProcess,\r\n    getTotalCount,\r\n    getUsers\r\n} from \"../Redux/users-selector\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let onPageChange = pageNumber => {\r\n            this.props.getUsersTC(pageNumber, this.props.pageSize);\r\n        };\r\n\r\n        this.onPageChange = onPageChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let {getUsersTC, currentPage, pageSize} = this.props;\r\n        getUsersTC(currentPage, pageSize);\r\n    }\r\n\r\n    render() {\r\n        let {isFetching, totalCount, pageSize, currentPage, unfollowing, following, users, isProcess} = this.props;\r\n        return (\r\n            <>\r\n                {isFetching ? <Preloader/> : null}\r\n                <Users\r\n                    totalCount={totalCount}\r\n                    pageSize={pageSize}\r\n                    currentPage={currentPage}\r\n                    onPageChange={this.onPageChange}\r\n                    unfollow={unfollowing}\r\n                    follow={following}\r\n                    users={users}\r\n                    isProcess={isProcess}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalCount: getTotalCount(state),\r\n        currentPage:getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isProcess: getProcess(state),\r\n        isAuth: getIsAuth(state)\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {following, unfollowing, getUsersTC})\r\n)(UsersContainer);"],"sourceRoot":""}